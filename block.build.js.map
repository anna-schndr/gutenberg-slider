{"version":3,"sources":["webpack://pluginnamespace.[name]/webpack/bootstrap","webpack://pluginnamespace.[name]/./node_modules/classnames/index.js","webpack://pluginnamespace.[name]/./slider-image.js","webpack://pluginnamespace.[name]/./edit.js","webpack://pluginnamespace.[name]/./index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__WEBPACK_AMD_DEFINE_RESULT__","hasOwn","classNames","classes","arguments","length","arg","argType","push","Array","isArray","apply","key","join","undefined","Component","wp","element","components","IconButton","Spinner","__","i18n","keycodes","utils","withSelect","data","RichText","editor","BACKSPACE","DELETE","slider_image_SliderImage","SliderImage","_classCallCheck","this","_this","_possibleConstructorReturn","__proto__","getPrototypeOf","onImageClick","bind","onSelectCaption","onKeyDown","bindContainer","state","captionSelected","ref","container","setState","props","isSelected","onSelect","event","document","activeElement","indexOf","keyCode","stopPropagation","preventDefault","onRemove","_ref","image","url","setAttributes","source_url","alt","alt_text","_props","id","linkTo","link","caption","href","img","createElement","src","data-id","onClick","className","classnames_default","is-selected","is-transient","tabIndex","icon","label","tagName","placeholder","onChange","newCaption","onFocus","inlineToolbar","slider_image","select","ownProps","getMedia","lodash","filter","pick","edit_Component","Fragment","edit_","edit_IconButton","DropZone","FormFileUpload","PanelBody","TextControl","RangeControl","SelectControl","ToggleControl","Toolbar","editorMediaUpload","BlockControls","MediaUpload","ImagePlaceholder","InspectorControls","effectOptions","linkOptions","SliderBlock","edit_classCallCheck","edit_possibleConstructorReturn","getAvailableSizes","onSelectImage","onSelectImages","setLinkTo","setSpeed","setEffect","toggleAutoplay","toggleImageCrop","onRemoveImage","setImageAttributes","addFiles","uploadFromFiles","selectedImage","index","_this2","_this3","images","attributes","console","log","JSON","stringify","map","_extends","thumb","speed","effect","autoplay","imageCrop","checked","slice","_toConsumableArray","target","files","currentImages","concat","nextProps","_this4","_props2","dropZone","onFilesDrop","controls","type","multiple","gallery","render","open","title","help","getImageCropHelp","min","max","options","attrs","isLarge","accept","__webpack_exports__","settings","index_filter","every","index_","blocks","registerBlockType","createBlock","index_editorMediaUpload","index_RichText","index_name","description","category","keywords","default","source","selector","query","attribute","transforms","from","isMultiBlock","transform","validImages","_ref2","tag","shortcode","_ref3","ids","named","split","parseInt","_ref4","_ref4$named$link","isMatch","file","block","uid","to","_ref5","_ref6","edit","save","_ref7","data-autoplay","data-speed","data-effect","data-link","Content"],"mappings":"oFACA,IAAAA,KAGA,SAAAC,EAAAC,GAGA,GAAAF,EAAAE,GACA,OAAAF,EAAAE,GAAAC,QAGA,IAAAC,EAAAJ,EAAAE,IACAG,EAAAH,EACAI,GAAA,EACAH,YAUA,OANAI,EAAAL,GAAAM,KAAAJ,EAAAD,QAAAC,IAAAD,QAAAF,GAGAG,EAAAE,GAAA,EAGAF,EAAAD,QA2CA,OAtCAF,EAAAQ,EAAAF,EAGAN,EAAAS,EAAAV,EAGAC,EAAAU,EAAA,SAAAR,EAAAS,EAAAC,GACAZ,EAAAa,EAAAX,EAAAS,IACAG,OAAAC,eAAAb,EAAAS,GACAK,cAAA,EACAC,YAAA,EACAC,IAAAN,KAMAZ,EAAAmB,EAAA,SAAAjB,GACAY,OAAAC,eAAAb,EAAA,cAAiDkB,OAAA,KAIjDpB,EAAAqB,EAAA,SAAAlB,GACA,IAAAS,EAAAT,KAAAmB,WACA,WAA2B,OAAAnB,EAAA,SAC3B,WAAiC,OAAAA,GAEjC,OADAH,EAAAU,EAAAE,EAAA,IAAAA,GACAA,GAIAZ,EAAAa,EAAA,SAAAU,EAAAC,GAAsD,OAAAV,OAAAW,UAAAC,eAAAnB,KAAAgB,EAAAC,IAGtDxB,EAAA2B,EAAA,GAIA3B,IAAA4B,EAAA,qBCnEA,IAAAC;;;;;;;;;;;CAOA,WACA,aAEA,IAAAC,KAAgBJ,eAEhB,SAAAK,IAGA,IAFA,IAAAC,KAEA5B,EAAA,EAAiBA,EAAA6B,UAAAC,OAAsB9B,IAAA,CACvC,IAAA+B,EAAAF,UAAA7B,GACA,GAAA+B,EAAA,CAEA,IAAAC,SAAAD,EAEA,cAAAC,GAAA,WAAAA,EACAJ,EAAAK,KAAAF,QACI,GAAAG,MAAAC,QAAAJ,GACJH,EAAAK,KAAAN,EAAAS,MAAA,KAAAL,SACI,cAAAC,EACJ,QAAAK,KAAAN,EACAL,EAAAvB,KAAA4B,EAAAM,IAAAN,EAAAM,IACAT,EAAAK,KAAAI,IAMA,OAAAT,EAAAU,KAAA,UAGA,IAAAvC,KAAAD,QACAC,EAAAD,QAAA6B,OAKGY,KAFHd,EAAA,WACA,OAAAE,GACGS,MAAAtC,SAAAC,EAAAD,QAAA2B,GApCH,+TCEQe,EAAcC,GAAGC,QAAjBF,YAIJC,GAAGE,WAFHC,eACAC,YAEIC,EAAOL,GAAGM,KAAVD,GACAE,EAAaP,GAAGQ,MAAhBD,SACAE,EAAeT,GAAGU,KAAlBD,WACAE,EAAaX,GAAGY,OAAhBD,SAKAE,EAAsBN,EAAtBM,UAAWC,EAAWP,EAAXO,OAEbC,cACL,SAAAC,iGAAcC,CAAAC,KAAAF,GAAA,IAAAG,mKAAAC,CAAAF,MAAAF,EAAAK,WAAApD,OAAAqD,eAAAN,IAAArB,MAAAuB,KACH9B,YADG,OAGb+B,EAAKI,aAAeJ,EAAKI,aAAaC,KAAlBL,GACpBA,EAAKM,gBAAkBN,EAAKM,gBAAgBD,KAArBL,GACvBA,EAAKO,UAAYP,EAAKO,UAAUF,KAAfL,GACjBA,EAAKQ,cAAgBR,EAAKQ,cAAcH,KAAnBL,GAErBA,EAAKS,OACJC,iBAAiB,GATLV,qUADWpB,4CAcV+B,GACdZ,KAAKa,UAAYD,4CAIVZ,KAAKU,MAAMC,iBACjBX,KAAKc,UACJH,iBAAiB,IAIZX,KAAKe,MAAMC,YACjBhB,KAAKe,MAAME,kDAKLjB,KAAKe,MAAMC,YACjBhB,KAAKe,MAAME,WAGPjB,KAAKU,MAAMC,iBACfX,KAAKc,UACJH,iBAAiB,sCAKTO,GAETlB,KAAKa,YAAcM,SAASC,eAC5BpB,KAAKe,MAAMC,aAAkE,KAAlDrB,EAAWC,GAASyB,QAASH,EAAMI,WAE9DJ,EAAMK,kBACNL,EAAMM,iBACNxB,KAAKe,MAAMU,iEAI2C,IAA3BT,EAA2BU,EAA3BV,WAAYW,EAAeD,EAAfC,MAAOC,EAAQF,EAARE,IAC1CD,IAAWC,GACf5B,KAAKe,MAAMc,eACVD,IAAKD,EAAMG,WACXC,IAAKJ,EAAMK,WAMRhC,KAAKU,MAAMC,kBAAqBK,GAAchB,KAAKe,MAAMC,YAC7DhB,KAAKc,UACJH,iBAAiB,qCAKX,IAAAsB,EAC6EjC,KAAKe,MAAlFa,EADAK,EACAL,IAAKG,EADLE,EACKF,IAAKG,EADVD,EACUC,GAAIC,EADdF,EACcE,OAAQC,EADtBH,EACsBG,KAAMpB,EAD5BiB,EAC4BjB,WAAYqB,EADxCJ,EACwCI,QAASZ,EADjDQ,EACiDR,SAAUI,EAD3DI,EAC2DJ,cAE/DS,SAEJ,OAASH,GACR,IAAK,QACJG,EAAOV,EACP,MACD,IAAK,aACJU,EAAOF,EAOT,IAAMG,EAAMX,EAAM9C,GAAAC,QAAAyD,cAAA,OAAKC,IAAMb,EAAMG,IAAMA,EAAMW,UAAUR,EAAKS,QAAU3C,KAAKK,eAAoBvB,GAAAC,QAAAyD,cAACtD,EAAD,MAE3F0D,EAAYC,KACjBC,cAAe9B,EACf+B,eAAgBnB,GAAO,IAAMA,EAAIP,QAAS,WAK3C,OACCvC,GAAAC,QAAAyD,cAAA,UAAQI,UAAYA,EAAYI,SAAS,KAAKxC,UAAYR,KAAKQ,UAAYI,IAAMZ,KAAKS,eACnFO,GACDlC,GAAAC,QAAAyD,cAAA,OAAKI,UAAU,yCACd9D,GAAAC,QAAAyD,cAACvD,GACAgE,KAAK,SACLN,QAAUlB,EACVmB,UAAU,8BACVM,MAAQ/D,EAAI,mBAIbmD,EAAOxD,GAAAC,QAAAyD,cAAA,KAAGF,KAAOA,GAASC,GAAYA,EACpCF,GAAWA,EAAQlE,OAAS,GAAO6C,EACtClC,GAAAC,QAAAyD,cAAC/C,GACA0D,QAAQ,aACRC,YAAcjE,EAAI,kBAClB9B,MAAQgF,EACRrB,WAAahB,KAAKU,MAAMC,gBACxB0C,SAAW,SAAEC,GAAF,OAAkBzB,GAAiBQ,QAASiB,KACvDC,QAAUvD,KAAKO,gBACfiD,eAAA,IAEE,eAORC,EAAelE,EAAY,SAAEmE,EAAQC,GAAc,IAC1CC,EAAaF,EAAQ,QAArBE,SACA1B,EAAOyB,EAAPzB,GAER,OACCP,MAAOO,EAAK0B,EAAU1B,GAAO,OAL/B,CAOKrC,0hBCtJDgE,OAHAC,WACAC,SACA5G,UASA2B,GAAGC,QAFHiF,IAAAnF,UACAoF,aAEIC,EAAOpF,GAAGM,KAAVD,KAWJL,GAAGE,WATHmF,IAAAlF,WACAmF,aACAC,mBACAC,cAEAC,KADAC,eACAD,aACAE,kBACAC,kBACAC,cAYA7F,GAAGY,OALNkF,sBACGC,kBACAC,gBACAC,qBACAC,sBAMEC,IACH5H,MAAO,OAAQ6F,MAAOgB,EAAI,OAAQ,sBAClC7G,MAAO,SAAU6F,MAAOgB,EAAI,SAAU,sBAGnCgB,IACH7H,MAAO,aAAc6F,MAAOgB,EAAI,qBAChC7G,MAAO,QAAS6F,MAAOgB,EAAI,gBAC3B7G,MAAO,OAAQ6F,MAAOgB,EAAI,wBAI5B,SAAAiB,iGAAcC,CAAApF,KAAAmF,GAAA,IAAAlF,mKAAAoF,CAAArF,MAAAmF,EAAAhF,WAAApD,OAAAqD,eAAA+E,IAAA1G,MAAAuB,KACH9B,YADG,OAGP+B,EAAKqF,kBAAoBrF,EAAKqF,kBAAkBhF,KAAvBL,GAE/BA,EAAKsF,cAAgBtF,EAAKsF,cAAcjF,KAAnBL,GACrBA,EAAKuF,eAAiBvF,EAAKuF,eAAelF,KAApBL,GACtBA,EAAKwF,UAAYxF,EAAKwF,UAAUnF,KAAfL,GACXA,EAAKyF,SAAWzF,EAAKyF,SAASpF,KAAdL,GAChBA,EAAK0F,UAAY1F,EAAK0F,UAAUrF,KAAfL,GACjBA,EAAK2F,eAAiB3F,EAAK2F,eAAetF,KAApBL,GAC5BA,EAAK4F,gBAAkB5F,EAAK4F,gBAAgBvF,KAArBL,GACvBA,EAAK6F,cAAgB7F,EAAK6F,cAAcxF,KAAnBL,GACrBA,EAAK8F,mBAAqB9F,EAAK8F,mBAAmBzF,KAAxBL,GAC1BA,EAAK+F,SAAW/F,EAAK+F,SAAS1F,KAAdL,GAChBA,EAAKgG,gBAAkBhG,EAAKgG,gBAAgB3F,KAArBL,GAEvBA,EAAKS,OACJwF,cAAe,MAlBHjG,qUAD0B+D,kDAwBjC,OAAO7G,EAAK6C,KAAKe,MAAMY,OAAS,gBAAiB,mDAGzCwE,GAAQ,IAAAC,EAAApG,KACtB,OAAO,WACDoG,EAAK1F,MAAMwF,gBAAkBC,GACjCC,EAAKtF,UACJoF,cAAeC,2CAMJA,GAAQ,IAAAE,EAAArG,KACtB,OAAO,WACN,IAAMsG,EAASxC,EAAQuC,EAAKtF,MAAMwF,WAAWD,OAAQ,SAAE/D,EAAKlG,GAAP,OAAc8J,IAAU9J,IAC7EgK,EAAKvF,UAAYoF,cAAe,OAChCG,EAAKtF,MAAMc,eACVyE,mDAKaA,GACTE,QAAQC,IAAIC,KAAKC,UAAUL,IACjCtG,KAAKe,MAAMc,eAEDyE,OAAQA,EAAOM,IAAK,SAAEjF,GAAF,OAAAkF,KAAoB9C,EAAMpC,GAAS,MAAO,UAAW,KAAM,SAAWmF,MAAO3J,EAAKwE,EAAO,+DAI7GtE,GACV2C,KAAKe,MAAMc,eAAiBM,OAAQ9E,qCAGxBA,GACN2C,KAAKe,MAAMc,eAAiBkF,MAAO1J,sCAG5BA,GACP2C,KAAKe,MAAMc,eAAiBmF,OAAQ3J,6CAI1C2C,KAAKe,MAAMc,eAAiBoF,UAAYjH,KAAKe,MAAMwF,WAAWU,qDAI9DjH,KAAKe,MAAMc,eAAiBqF,WAAalH,KAAKe,MAAMwF,WAAWW,qDAG9CC,GACjB,OAAiBjD,EAAViD,EAAc,mCAA2C,0EAG7ChB,EAAOI,GAAa,IAAAtE,EACWjC,KAAKe,MAAjCuF,EADiBrE,EAC/BsE,WAAcD,OAAUzE,EADOI,EACPJ,cACzByE,EAAQH,IAGftE,GACCyE,mBACIA,EAAOc,MAAO,EAAGjB,KADrBU,KAGKP,EAAQH,GACRI,IAJLc,EAMIf,EAAOc,MAAOjB,EAAQ,+CAKXjF,GAChBlB,KAAKgG,SAAU9E,EAAMoG,OAAOC,wCAGnBA,GACT,IAAMC,EAAgBxH,KAAKe,MAAMwF,WAAWD,WACpCzE,EAAkB7B,KAAKe,MAAvBc,cACR+C,EACC2C,EACA,SAAEjB,GACDzE,GACCyE,OAAQkB,EAAcC,OAAQnB,MAGhC,2DAIyBoB,IAEnBA,EAAU1G,YAAchB,KAAKe,MAAMC,YACzChB,KAAKc,UACJoF,cAAe,KACfvF,iBAAiB,qCAKX,IAAAgH,EAAA3H,KAAA4H,EAC4C5H,KAAKe,MAA3CwF,EADNqB,EACMrB,WAAYvF,EADlB4G,EACkB5G,WAAY4B,EAD9BgF,EAC8BhF,UAC9B0D,EAAuDC,EAAvDD,OAAQY,EAA+CX,EAA/CW,UAAWD,EAAoCV,EAApCU,SAAUF,EAA0BR,EAA1BQ,MAAOC,EAAmBT,EAAnBS,OAAQ7E,EAAWoE,EAAXpE,OAE9C0F,EACL/I,GAAAC,QAAAyD,cAAC4B,GACA0D,YAAc9H,KAAKgG,WAIf+B,EACLjJ,GAAAC,QAAAyD,cAACqC,EAAD,OACMyB,EAAOnI,QACXW,GAAAC,QAAAyD,cAACmC,EAAD,KACC7F,GAAAC,QAAAyD,cAACsC,GACA7D,SAAWjB,KAAKwF,eAChBwC,KAAK,QACLC,UAAA,EACAC,SAAA,EACA7K,MAAQiJ,EAAOM,IAAK,SAAErE,GAAF,OAAWA,EAAIL,KACnCiG,OAAS,SAAAzG,GAAA,IAAI0G,EAAJ1G,EAAI0G,KAAJ,OACRtJ,GAAAC,QAAAyD,cAAC2B,GACAvB,UAAU,8BACVM,MAAQgB,EAAI,cAAe,oBAC3BjB,KAAK,OACLN,QAAUyF,SASjB,OAAuB,IAAlB9B,EAAOnI,OAEVW,GAAAC,QAAAyD,cAACyB,EAAD,KACG8D,EACFjJ,GAAAC,QAAAyD,cAACuC,GACAnC,UAAYA,EACZK,KAAK,iBACLC,MAAQgB,EAAI,SAAU,oBACtBqB,cAAgBvF,KAAKwF,eACrByC,UAAA,MAMEzB,QAAQC,IAAIC,KAAKC,UAAUL,IAGhCxH,GAAAC,QAAAyD,cAACyB,EAAD,KACG8D,EACFjJ,GAAAC,QAAAyD,cAACwC,EAAD,KACClG,GAAAC,QAAAyD,cAAC8B,GAAU+D,MAAQnE,EAAI,kBAAmB,qBACzCpF,GAAAC,QAAAyD,cAACkC,GACAxB,MAAQgB,EAAI,eACZiD,UAAaD,EACb7D,SAAWrD,KAAK6F,gBAChByC,KAAOtI,KAAKuI,mBAEbzJ,GAAAC,QAAAyD,cAACkC,GACAxB,MAAQgB,EAAI,WAAY,oBACxBiD,UAAaF,EACb5D,SAAWrD,KAAK4F,iBAEC9G,GAAAC,QAAAyD,cAAC+B,GACGrB,MAAQgB,EAAI,QAAS,oBACrB8D,KAAK,SACLQ,IAAI,MACJC,IAAI,MACJpL,MAAQ0J,EACR1D,SAAWrD,KAAK0F,WAEtC5G,GAAAC,QAAAyD,cAACiC,GACAvB,MAAQgB,EAAI,SAAU,oBACtB7G,MAAQ2J,EACR3D,SAAWrD,KAAK2F,UAChB+C,QAAUzD,IAEXnG,GAAAC,QAAAyD,cAACiC,GACAvB,MAAQgB,EAAI,WACZ7G,MAAQ8E,EACRkB,SAAWrD,KAAKyF,UAChBiD,QAAUxD,MAIbpG,GAAAC,QAAAyD,cAAA,MAAII,UAAgBA,EAAhB,KAA+BsE,EAAY,aAAe,KAC3DW,EACAvB,EAAOM,IAAK,SAAErE,EAAK4D,GAAP,OACbrH,GAAAC,QAAAyD,cAAA,MAAII,UAAU,sBAAsBlE,IAAM6D,EAAIL,IAAMK,EAAIX,KACvD9C,GAAAC,QAAAyD,cAACiB,GACA7B,IAAMW,EAAIX,IACVG,IAAMQ,EAAIR,IACVG,GAAKK,EAAIL,GACTlB,WAAaA,GAAc2G,EAAKjH,MAAMwF,gBAAkBC,EACxD1E,SAAWkG,EAAK7B,cAAeK,GAC/BlF,SAAW0G,EAAKpC,cAAeY,GAC/BtE,cAAgB,SAAE8G,GAAF,OAAahB,EAAK5B,mBAAoBI,EAAOwC,IAC7DtG,QAAUE,EAAIF,aAIfrB,GACDlC,GAAAC,QAAAyD,cAAA,MAAII,UAAU,uBACb9D,GAAAC,QAAAyD,cAAC6B,GACA4D,UAAA,EACAW,SAAA,EACAhG,UAAU,sCACVS,SAAWrD,KAAKiG,gBAChB4C,OAAO,UACP5F,KAAK,UAEHiB,EAAI,qECrSdjI,EAAAU,EAAAmM,EAAA,6BAAAC,WAOIlF,OAFAmF,IAAAlF,OACAmF,UAMIC,EAAOpK,GAAGM,KAAVD,KAQJL,GAAGqK,OAFNC,sBACAC,mBAMGvK,GAAGY,OAFH4J,MAAA1E,kBACA2E,MAAA9J,SA+DS+J,GAAO,aAEPT,IACZV,MAAOa,EAAI,SAAU,oBACrBO,YAAaP,EAAI,0EAA2E,oBAC5FjG,KAAM,iBACNyG,SAAU,SACVC,UAAYT,EAAI,UAAYA,EAAI,WAChC3C,YAhEAD,QACC0B,KAAM,QACN4B,WACAC,OAAQ,QACRC,SAAU,8CACVC,OACCnI,KACCiI,OAAQ,YACRC,SAAU,MACVE,UAAW,OAEZ5H,MACCyH,OAAQ,YACRC,SAAU,MACVE,UAAW,aAEZjI,KACC8H,OAAQ,YACRC,SAAU,MACVE,UAAW,MACXJ,QAAS,IAEV1H,IACC2H,OAAQ,YACRC,SAAU,MACVE,UAAW,WAEZ3H,SACC2F,KAAM,QACN6B,OAAQ,WACRC,SAAU,gBAIb5C,WACCc,KAAM,UACN4B,SAAS,GAEV3C,UACCe,KAAM,UACN4B,SAAS,GAEV7C,OACCiB,KAAM,SACN4B,QAAS,OAEV5C,QACCgB,KAAM,SACN4B,QAAS,QAEVzH,QACC6F,KAAM,SACN4B,QAAS,SAcVK,YACCC,OAEElC,KAAM,QACNmC,cAAc,EACdhB,QAAU,cACViB,UAAW,SAAE7D,GACZ,IAAM8D,EAAcrB,EAAQzC,EAAY,SAAA7E,GAAA,IAAIQ,EAAJR,EAAIQ,GAAIN,EAARF,EAAQE,IAAR,OAAmBM,GAAMN,IACjE,OAAKyI,EAAYlM,OAAS,EAClBkL,EAAa,cACnB/C,OAAQ+D,EAAYzD,IAAK,SAAA0D,GAAA,OAAqCpI,GAArCoI,EAAIpI,GAAqCN,IAAzC0I,EAAQ1I,IAAsCG,IAA9CuI,EAAavI,IAAsCM,QAAnDiI,EAAkBjI,aAGtCgH,EAAa,iBAIrBrB,KAAM,YACNuC,IAAK,UACLhE,YACCD,QACC0B,KAAM,QACNwC,UAAW,SAAAC,GAA0B,IAAbC,EAAaD,EAAtBE,MAASD,IACvB,OAAOA,EAIAA,EAAIE,MAAO,KAAMhE,IAAK,SAAE1E,GAAF,OAC5BA,GAAI2I,SAAU3I,EAAI,YAIrBC,QACC6F,KAAM,SACNwC,UAAW,SAAAM,GAA0C,IAAAC,EAAAD,EAAtCH,MAASvI,YAA6BxD,IAAAmM,EAAtB,aAAsBA,EACpD,MAAgB,SAAT3I,EAAkB,QAAUA,OAMtC4F,KAAM,QACNgD,QAFD,SAEUzD,GACR,OAAwB,IAAjBA,EAAMpJ,QAAgB8K,EAAO1B,EAAO,SAAE0D,GAAF,OAA8C,IAAlCA,EAAKjD,KAAK3G,QAAS,aAE3E+I,UALD,SAKY7C,EAAOlE,GACjB,IAAM6H,EAAQ7B,EAAa,cAM3B,OALAC,GACC/B,EACA,SAAEjB,GAAF,OAAcjD,EAAU6H,EAAMC,KAAO7E,YACrC,SAEM4E,KAIVE,KAEEpD,KAAM,QACNmB,QAAU,cACViB,UAAW,SAAAiB,GAAkB,IAAd/E,EAAc+E,EAAd/E,OACd,OAAKA,EAAOnI,OAAS,EACbmI,EAAOM,IAAK,SAAA0E,GAAA,IAAIpJ,EAAJoJ,EAAIpJ,GAAIN,EAAR0J,EAAQ1J,IAAKG,EAAbuJ,EAAavJ,IAAKM,EAAlBiJ,EAAkBjJ,QAAlB,OAAiCgH,EAAa,cAAgBnH,KAAIN,MAAKG,MAAKM,cAEzFgH,EAAa,kBAMxBkC,KAAMA,EAENC,KAhFuB,SAAAC,GAgFA,IAAflF,EAAekF,EAAflF,WACCD,EAAuDC,EAAvDD,OAAQY,EAA+CX,EAA/CW,UAAWD,EAAoCV,EAApCU,SAAUF,EAA0BR,EAA1BQ,MAAOC,EAAmBT,EAAnBS,OAAQ7E,EAAWoE,EAAXpE,OACpD,OACCrD,GAAAC,QAAAyD,cAAA,MAAII,UAAgBsE,EAAY,aAAe,GAAQwE,gBAAgBzE,EAAW0E,aAAa5E,EAAQ6E,cAAc5E,GAClHV,EAAOM,IAAK,SAAEjF,GACf,IAAIW,SAEJ,OAASH,GACR,IAAK,QACJG,EAAOX,EAAMC,IACb,MACD,IAAK,aACJU,EAAOX,EAAMS,KAIf,IAAMG,EAAMzD,GAAAC,QAAAyD,cAAA,OAAKC,IAAMd,EAAMC,IAAMG,IAAMJ,EAAMI,IAAMW,UAAUf,EAAMO,GAAK2J,YAAYlK,EAAMS,OAE5F,OACCtD,GAAAC,QAAAyD,cAAA,MAAI9D,IAAMiD,EAAMO,IAAMP,EAAMC,IAAMgB,UAAU,uBAC3C9D,GAAAC,QAAAyD,cAAA,cACGF,EAAOxD,GAAAC,QAAAyD,cAAA,KAAGF,KAAOA,GAASC,GAAYA,EACdZ,EAAMU,SAAWV,EAAMU,QAAQlE,OAAS,GACtCW,GAAAC,QAAAyD,cAAC+G,GAASuC,SAAQ3I,QAAQ,aAAa9F,MAAQsE,EAAMU,iBAWzF+G,EAAmBI,GAAMT","file":"block.build.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","/*!\n  Copyright (c) 2016 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tclasses.push(classNames.apply(null, arg));\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","/**\n * External Dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress Dependencies\n */\n\nconst { Component } = wp.element;\nconst {\n    IconButton,\n    Spinner\n} = wp.components;\nconst { __ } = wp.i18n;\nconst { keycodes } = wp.utils;\nconst { withSelect } = wp.data;\nconst { RichText } = wp.editor;\n\n/**\n * Module constants\n */\nconst { BACKSPACE, DELETE } = keycodes;\n\nclass SliderImage extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.onImageClick = this.onImageClick.bind( this );\n\t\tthis.onSelectCaption = this.onSelectCaption.bind( this );\n\t\tthis.onKeyDown = this.onKeyDown.bind( this );\n\t\tthis.bindContainer = this.bindContainer.bind( this );\n\n\t\tthis.state = {\n\t\t\tcaptionSelected: false,\n\t\t};\n\t}\n\n\tbindContainer( ref ) {\n\t\tthis.container = ref;\n\t}\n\n\tonSelectCaption() {\n\t\tif ( ! this.state.captionSelected ) {\n\t\t\tthis.setState( {\n\t\t\t\tcaptionSelected: true,\n\t\t\t} );\n\t\t}\n\n\t\tif ( ! this.props.isSelected ) {\n\t\t\tthis.props.onSelect();\n\t\t}\n\t}\n\n\tonImageClick() {\n\t\tif ( ! this.props.isSelected ) {\n\t\t\tthis.props.onSelect();\n\t\t}\n\n\t\tif ( this.state.captionSelected ) {\n\t\t\tthis.setState( {\n\t\t\t\tcaptionSelected: false,\n\t\t\t} );\n\t\t}\n\t}\n\n\tonKeyDown( event ) {\n\t\tif (\n\t\t\tthis.container === document.activeElement &&\n\t\t\tthis.props.isSelected && [ BACKSPACE, DELETE ].indexOf( event.keyCode ) !== -1\n\t\t) {\n\t\t\tevent.stopPropagation();\n\t\t\tevent.preventDefault();\n\t\t\tthis.props.onRemove();\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps( { isSelected, image, url } ) {\n\t\tif ( image && ! url ) {\n\t\t\tthis.props.setAttributes( {\n\t\t\t\turl: image.source_url,\n\t\t\t\talt: image.alt_text,\n\t\t\t} );\n\t\t}\n\n\t\t// unselect the caption so when the user selects other image and comeback\n\t\t// the caption is not immediately selected\n\t\tif ( this.state.captionSelected && ! isSelected && this.props.isSelected ) {\n\t\t\tthis.setState( {\n\t\t\t\tcaptionSelected: false,\n\t\t\t} );\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { url, alt, id, linkTo, link, isSelected, caption, onRemove, setAttributes } = this.props;\n\n\t\tlet href;\n\n\t\tswitch ( linkTo ) {\n\t\t\tcase 'media':\n\t\t\t\thref = url;\n\t\t\t\tbreak;\n\t\t\tcase 'attachment':\n\t\t\t\thref = link;\n\t\t\t\tbreak;\n\t\t}\n\n\t\t// Disable reason: Image itself is not meant to be\n\t\t// interactive, but should direct image selection and unfocus caption fields\n\t\t// eslint-disable-next-line jsx-a11y/no-noninteractive-element-interactions, jsx-a11y/click-events-have-key-events\n\t\tconst img = url ? <img src={ url } alt={ alt } data-id={ id } onClick={ this.onImageClick } /> : <Spinner />;\n\n\t\tconst className = classnames( {\n\t\t\t'is-selected': isSelected,\n\t\t\t'is-transient': url && 0 === url.indexOf( 'blob:' ),\n\t\t} );\n\n\t\t// Disable reason: Each block can be selected by clicking on it and we should keep the same saved markup\n\t\t/* eslint-disable jsx-a11y/no-noninteractive-element-interactions, jsx-a11y/onclick-has-role, jsx-a11y/click-events-have-key-events */\n\t\treturn (\n\t\t\t<figure className={ className } tabIndex=\"-1\" onKeyDown={ this.onKeyDown } ref={ this.bindContainer }>\n\t\t\t\t{ isSelected &&\n\t\t\t\t\t<div className=\"core-blocks-gallery-item__inline-menu\">\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\ticon=\"no-alt\"\n\t\t\t\t\t\t\tonClick={ onRemove }\n\t\t\t\t\t\t\tclassName=\"blocks-gallery-item__remove\"\n\t\t\t\t\t\t\tlabel={ __( 'Remove Image' ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t\t{ href ? <a href={ href }>{ img }</a> : img }\n\t\t\t\t{ ( caption && caption.length > 0 ) || isSelected ? (\n\t\t\t\t\t<RichText\n\t\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\t\tplaceholder={ __( 'Write caption…' ) }\n\t\t\t\t\t\tvalue={ caption }\n\t\t\t\t\t\tisSelected={ this.state.captionSelected }\n\t\t\t\t\t\tonChange={ ( newCaption ) => setAttributes( { caption: newCaption } ) }\n\t\t\t\t\t\tonFocus={ this.onSelectCaption }\n\t\t\t\t\t\tinlineToolbar\n\t\t\t\t\t/>\n\t\t\t\t) : null }\n\t\t\t</figure>\n\t\t);\n\t\t/* eslint-enable jsx-a11y/no-noninteractive-element-interactions, jsx-a11y/onclick-has-role, jsx-a11y/click-events-have-key-events */\n\t}\n}\n\nexport default withSelect( ( select, ownProps ) => {\n\tconst { getMedia } = select( 'core' );\n\tconst { id } = ownProps;\n\n\treturn {\n\t\timage: id ? getMedia( id ) : null,\n\t};\n} )( SliderImage );\n","/**\n * External Dependencies\n */\nconst {\n    filter,\n    pick,\n    get,\n} = lodash;\n\n/**\n * WordPress dependencies\n */\nconst {\n    Component,\n    Fragment\n} = wp.element;\nconst { __ } = wp.i18n;\nconst {\n    IconButton,\n    DropZone,\n    FormFileUpload,\n    PanelBody,\n    RangeControl,\n    TextControl,\n    SelectControl,\n    ToggleControl,\n    Toolbar\n} = wp.components;\n\n/**\n * Internal dependencies\n */\nconst {\n\teditorMediaUpload,\n    BlockControls,\n    MediaUpload,\n    ImagePlaceholder,\n    InspectorControls,\n} = wp.editor;\n\nimport './editor.scss';\nimport SliderImage from './slider-image';\n\nconst effectOptions = [\n\t{ value: 'fade', label: __( 'Fade', 'gutenberg-slider' ) },\n\t{ value: 'scroll', label: __( 'Scroll', 'gutenberg-slider' ) },\n];\n\nconst linkOptions = [\n\t{ value: 'attachment', label: __( 'Attachment Page' ) },\n\t{ value: 'media', label: __( 'Media File' ) },\n\t{ value: 'none', label: __( 'None' ) },\n];\n\nexport default class SliderBlock extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n        this.getAvailableSizes = this.getAvailableSizes.bind( this );\n\n\t\tthis.onSelectImage = this.onSelectImage.bind( this );\n\t\tthis.onSelectImages = this.onSelectImages.bind( this );\n\t\tthis.setLinkTo = this.setLinkTo.bind( this );\n        this.setSpeed = this.setSpeed.bind( this );\n        this.setEffect = this.setEffect.bind( this );\n        this.toggleAutoplay = this.toggleAutoplay.bind( this );\n\t\tthis.toggleImageCrop = this.toggleImageCrop.bind( this );\n\t\tthis.onRemoveImage = this.onRemoveImage.bind( this );\n\t\tthis.setImageAttributes = this.setImageAttributes.bind( this );\n\t\tthis.addFiles = this.addFiles.bind( this );\n\t\tthis.uploadFromFiles = this.uploadFromFiles.bind( this );\n\n\t\tthis.state = {\n\t\t\tselectedImage: null,\n\t\t};\n\t}\n\n    getAvailableSizes() {\n        return get( this.props.image, [ 'media_details', 'sizes' ], {} );\n    }\n\n\tonSelectImage( index ) {\n\t\treturn () => {\n\t\t\tif ( this.state.selectedImage !== index ) {\n\t\t\t\tthis.setState( {\n\t\t\t\t\tselectedImage: index,\n\t\t\t\t} );\n\t\t\t}\n\t\t};\n\t}\n\n\tonRemoveImage( index ) {\n\t\treturn () => {\n\t\t\tconst images = filter( this.props.attributes.images, ( img, i ) => index !== i );\n\t\t\tthis.setState( { selectedImage: null } );\n\t\t\tthis.props.setAttributes( {\n\t\t\t\timages,\n\t\t\t} );\n\t\t};\n\t}\n\n\tonSelectImages( images ) {\n        console.log(JSON.stringify(images));\n\t\tthis.props.setAttributes( {\n\t\t\t/*images: images.map( ( image ) => pick( image, [ 'alt', 'caption', 'id', 'url' ] ) ),*/\n            images: images.map( ( image ) => ( { ...pick( image, [ 'alt', 'caption', 'id', 'url' ] ), thumb: get( image, 'sizes.thumbnail.url' ) } ) )\n\t\t} );\n\t}\n\n\tsetLinkTo( value ) {\n\t\tthis.props.setAttributes( { linkTo: value } );\n\t}\n\n    setSpeed( value ) {\n        this.props.setAttributes( { speed: value } );\n    }\n\n    setEffect( value ) {\n        this.props.setAttributes( { effect: value } );\n    }\n\n\ttoggleAutoplay() {\n\t\tthis.props.setAttributes( { autoplay: ! this.props.attributes.autoplay } );\n\t}\n\n\ttoggleImageCrop() {\n\t\tthis.props.setAttributes( { imageCrop: ! this.props.attributes.imageCrop } );\n\t}\n\n\tgetImageCropHelp( checked ) {\n\t\treturn checked ? __( 'Thumbnails are cropped to align.' ) : __( 'Thumbnails are not cropped.' );\n\t}\n\n\tsetImageAttributes( index, attributes ) {\n\t\tconst { attributes: { images }, setAttributes } = this.props;\n\t\tif ( ! images[ index ] ) {\n\t\t\treturn;\n\t\t}\n\t\tsetAttributes( {\n\t\t\timages: [\n\t\t\t\t...images.slice( 0, index ),\n\t\t\t\t{\n\t\t\t\t\t...images[ index ],\n\t\t\t\t\t...attributes,\n\t\t\t\t},\n\t\t\t\t...images.slice( index + 1 ),\n\t\t\t],\n\t\t} );\n\t}\n\n\tuploadFromFiles( event ) {\n\t\tthis.addFiles( event.target.files );\n\t}\n\n\taddFiles( files ) {\n\t\tconst currentImages = this.props.attributes.images || [];\n\t\tconst { setAttributes } = this.props;\n\t\teditorMediaUpload(\n\t\t\tfiles,\n\t\t\t( images ) => {\n\t\t\t\tsetAttributes( {\n\t\t\t\t\timages: currentImages.concat( images ),\n\t\t\t\t} );\n\t\t\t},\n\t\t\t'image',\n\t\t);\n\t}\n\n\tcomponentWillReceiveProps( nextProps ) {\n\t\t// Deselect images when deselecting the block\n\t\tif ( ! nextProps.isSelected && this.props.isSelected ) {\n\t\t\tthis.setState( {\n\t\t\t\tselectedImage: null,\n\t\t\t\tcaptionSelected: false,\n\t\t\t} );\n\t\t}\n\t}\n\n\trender() {\n        const { attributes, isSelected, className } = this.props;\n\t\tconst { images, imageCrop, autoplay, speed, effect, linkTo } = attributes;\n\n\t\tconst dropZone = (\n\t\t\t<DropZone\n\t\t\t\tonFilesDrop={ this.addFiles }\n\t\t\t/>\n\t\t);\n\n\t\tconst controls = (\n\t\t\t<BlockControls>\n\t\t\t\t{ !! images.length && (\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<MediaUpload\n\t\t\t\t\t\t\tonSelect={ this.onSelectImages }\n\t\t\t\t\t\t\ttype=\"image\"\n\t\t\t\t\t\t\tmultiple\n\t\t\t\t\t\t\tgallery\n\t\t\t\t\t\t\tvalue={ images.map( ( img ) => img.id ) }\n\t\t\t\t\t\t\trender={ ( { open } ) => (\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tclassName=\"components-toolbar__control\"\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Edit Slider', 'gutenberg-slider' ) }\n\t\t\t\t\t\t\t\t\ticon=\"edit\"\n\t\t\t\t\t\t\t\t\tonClick={ open }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t) }\n\t\t\t</BlockControls>\n\t\t);\n\n\t\tif ( images.length === 0 ) {\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t{ controls }\n\t\t\t\t\t<ImagePlaceholder\n\t\t\t\t\t\tclassName={ className }\n\t\t\t\t\t\ticon=\"format-gallery\"\n\t\t\t\t\t\tlabel={ __( 'Slider', 'gutenberg-slider' ) }\n\t\t\t\t\t\tonSelectImage={ this.onSelectImages }\n\t\t\t\t\t\tmultiple\n\t\t\t\t\t/>\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t}\n\n        console.log(JSON.stringify(images));\n        \n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t{ controls }\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody title={ __( 'Slider Settings', 'gutenberg-slider' ) }>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ __( 'Crop Images' ) }\n\t\t\t\t\t\t\tchecked={ !! imageCrop }\n\t\t\t\t\t\t\tonChange={ this.toggleImageCrop }\n\t\t\t\t\t\t\thelp={ this.getImageCropHelp }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ __( 'Autoplay', 'gutenberg-slider' ) }\n\t\t\t\t\t\t\tchecked={ !! autoplay }\n\t\t\t\t\t\t\tonChange={ this.toggleAutoplay }\n\t\t\t\t\t\t/>\n                        <TextControl\n                            label={ __( 'Speed', 'gutenberg-slider' ) }\n                            type='number'\n                            min='100'\n                            max='500'\n                            value={ speed }\n                            onChange={ this.setSpeed }\n                        />\n\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\tlabel={ __( 'Effect', 'gutenberg-slider' ) }\n\t\t\t\t\t\t\tvalue={ effect }\n\t\t\t\t\t\t\tonChange={ this.setEffect }\n\t\t\t\t\t\t\toptions={ effectOptions }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\tlabel={ __( 'Link to' ) }\n\t\t\t\t\t\t\tvalue={ linkTo }\n\t\t\t\t\t\t\tonChange={ this.setLinkTo }\n\t\t\t\t\t\t\toptions={ linkOptions }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\t\t\t\t<ul className={ `${ className } ${ imageCrop ? 'is-cropped' : '' }` }>\n\t\t\t\t\t{ dropZone }\n\t\t\t\t\t{ images.map( ( img, index ) => (\n\t\t\t\t\t\t<li className=\"blocks-gallery-item\" key={ img.id || img.url }>\n\t\t\t\t\t\t\t<SliderImage\n\t\t\t\t\t\t\t\turl={ img.url }\n\t\t\t\t\t\t\t\talt={ img.alt }\n\t\t\t\t\t\t\t\tid={ img.id }\n\t\t\t\t\t\t\t\tisSelected={ isSelected && this.state.selectedImage === index }\n\t\t\t\t\t\t\t\tonRemove={ this.onRemoveImage( index ) }\n\t\t\t\t\t\t\t\tonSelect={ this.onSelectImage( index ) }\n\t\t\t\t\t\t\t\tsetAttributes={ ( attrs ) => this.setImageAttributes( index, attrs ) }\n\t\t\t\t\t\t\t\tcaption={ img.caption }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t) ) }\n\t\t\t\t\t{ isSelected &&\n\t\t\t\t\t\t<li className=\"blocks-gallery-item\">\n\t\t\t\t\t\t\t<FormFileUpload\n\t\t\t\t\t\t\t\tmultiple\n\t\t\t\t\t\t\t\tisLarge\n\t\t\t\t\t\t\t\tclassName=\"core-blocks-gallery-add-item-button\"\n\t\t\t\t\t\t\t\tonChange={ this.uploadFromFiles }\n\t\t\t\t\t\t\t\taccept=\"image/*\"\n\t\t\t\t\t\t\t\ticon=\"insert\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Upload an image' ) }\n\t\t\t\t\t\t\t</FormFileUpload>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t}\n\t\t\t\t</ul>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n","/**\n * External dependencies\n */\n\nconst {\n    filter,\n    every\n} = lodash;\n\n/**\n * WordPress dependencies\n */\nconst { __ } = wp.i18n;\n\n/**\n * Internal dependencies\n */\nconst {\n\tregisterBlockType,\n\tcreateBlock,\n} = wp.blocks;\n\nconst {\n    editorMediaUpload,\n    RichText\n} = wp.editor;\n\nimport './style.scss';\nimport { default as edit } from './edit';\n\nconst blockAttributes = {\n\timages: {\n\t\ttype: 'array',\n\t\tdefault: [],\n\t\tsource: 'query',\n\t\tselector: 'ul.wp-block-occ-slider .blocks-gallery-item',\n\t\tquery: {\n\t\t\turl: {\n\t\t\t\tsource: 'attribute',\n\t\t\t\tselector: 'img',\n\t\t\t\tattribute: 'src',\n\t\t\t},\n\t\t\tlink: {\n\t\t\t\tsource: 'attribute',\n\t\t\t\tselector: 'img',\n\t\t\t\tattribute: 'data-link',\n\t\t\t},\n\t\t\talt: {\n\t\t\t\tsource: 'attribute',\n\t\t\t\tselector: 'img',\n\t\t\t\tattribute: 'alt',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\tid: {\n\t\t\t\tsource: 'attribute',\n\t\t\t\tselector: 'img',\n\t\t\t\tattribute: 'data-id',\n\t\t\t},\n\t\t\tcaption: {\n\t\t\t\ttype: 'array',\n\t\t\t\tsource: 'children',\n\t\t\t\tselector: 'figcaption',\n\t\t\t},\n\t\t},\n\t},\n\timageCrop: {\n\t\ttype: 'boolean',\n\t\tdefault: true,\n\t},\n\tautoplay: {\n\t\ttype: 'boolean',\n\t\tdefault: true,\n\t},\n\tspeed: {\n\t\ttype: 'string',\n\t\tdefault: '300',\n\t},\n\teffect: {\n\t\ttype: 'string',\n\t\tdefault: 'fade',\n\t},\n\tlinkTo: {\n\t\ttype: 'string',\n\t\tdefault: 'none',\n\t},\n};\n\nexport const name = 'occ/slider';\n\nexport const settings = {\n\ttitle: __( 'Slider', 'gutenberg-slider' ),\n\tdescription: __( 'Image silders are a great way to share groups of pictures on your site.', 'gutenberg-slider' ),\n\ticon: 'format-gallery',\n\tcategory: 'common',\n\tkeywords: [ __( 'images' ), __( 'photos' ) ],\n\tattributes: blockAttributes,\n\n\ttransforms: {\n\t\tfrom: [\n\t\t\t{\n\t\t\t\ttype: 'block',\n\t\t\t\tisMultiBlock: true,\n\t\t\t\tblocks: [ 'occ/slider' ],\n\t\t\t\ttransform: ( attributes ) => {\n\t\t\t\t\tconst validImages = filter( attributes, ( { id, url } ) => id && url );\n\t\t\t\t\tif ( validImages.length > 0 ) {\n\t\t\t\t\t\treturn createBlock( 'occ/slider', {\n\t\t\t\t\t\t\timages: validImages.map( ( { id, url, alt, caption } ) => ( { id, url, alt, caption } ) ),\n\t\t\t\t\t\t} );\n\t\t\t\t\t}\n\t\t\t\t\treturn createBlock( 'occ/slider' );\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'shortcode',\n\t\t\t\ttag: 'gallery',\n\t\t\t\tattributes: {\n\t\t\t\t\timages: {\n\t\t\t\t\t\ttype: 'array',\n\t\t\t\t\t\tshortcode: ( { named: { ids } } ) => {\n\t\t\t\t\t\t\tif ( ! ids ) {\n\t\t\t\t\t\t\t\treturn [];\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn ids.split( ',' ).map( ( id ) => ( {\n\t\t\t\t\t\t\t\tid: parseInt( id, 10 ),\n\t\t\t\t\t\t\t} ) );\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tlinkTo: {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tshortcode: ( { named: { link = 'attachment' } } ) => {\n\t\t\t\t\t\t\treturn link === 'file' ? 'media' : link;\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'files',\n\t\t\t\tisMatch( files ) {\n\t\t\t\t\treturn files.length !== 1 && every( files, ( file ) => file.type.indexOf( 'image/' ) === 0 );\n\t\t\t\t},\n\t\t\t\ttransform( files, onChange ) {\n\t\t\t\t\tconst block = createBlock( 'occ/slider' );\n\t\t\t\t\teditorMediaUpload(\n\t\t\t\t\t\tfiles,\n\t\t\t\t\t\t( images ) => onChange( block.uid, { images } ),\n\t\t\t\t\t\t'image'\n\t\t\t\t\t);\n\t\t\t\t\treturn block;\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t\tto: [\n\t\t\t{\n\t\t\t\ttype: 'block',\n\t\t\t\tblocks: [ 'core/image' ],\n\t\t\t\ttransform: ( { images } ) => {\n\t\t\t\t\tif ( images.length > 0 ) {\n\t\t\t\t\t\treturn images.map( ( { id, url, alt, caption } ) => createBlock( 'core/image', { id, url, alt, caption } ) );\n\t\t\t\t\t}\n\t\t\t\t\treturn createBlock( 'core/image' );\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t},\n\n\tedit: edit,\n\n\tsave( { attributes } ) {\n\t\tconst { images, imageCrop, autoplay, speed, effect, linkTo } = attributes;\n\t\treturn (\n\t\t\t<ul className={ `${ imageCrop ? 'is-cropped' : '' }` } data-autoplay={ autoplay } data-speed={ speed } data-effect={ effect }>\n\t\t\t\t{ images.map( ( image ) => {\n\t\t\t\t\tlet href;\n\n\t\t\t\t\tswitch ( linkTo ) {\n\t\t\t\t\t\tcase 'media':\n\t\t\t\t\t\t\thref = image.url;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'attachment':\n\t\t\t\t\t\t\thref = image.link;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst img = <img src={ image.url } alt={ image.alt } data-id={ image.id } data-link={ image.link } />;\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<li key={ image.id || image.url } className=\"blocks-gallery-item\">\n\t\t\t\t\t\t\t<figure>\n\t\t\t\t\t\t\t\t{ href ? <a href={ href }>{ img }</a> : img }\n                                { image.caption && image.caption.length > 0 && (\n                                    <RichText.Content tagName=\"figcaption\" value={ image.caption } />\n                                ) }\n\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t);\n\t\t\t\t} ) }\n\t\t\t</ul>\n\t\t);\n\t},\n};\n\nregisterBlockType( name, settings );\n"],"sourceRoot":""}